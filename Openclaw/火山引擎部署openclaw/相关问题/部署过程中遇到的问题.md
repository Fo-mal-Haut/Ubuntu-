# 情况一：command not found

**问题描述**：在[4. 配置飞书助手](../4.%20配置飞书助手.md)过程中，需要通过远程连接云服务器，进行配置模型和飞书集成的参数，但是在远程连接过程中遇到了command not found的返回。

**原因说明**：将控制台的整个命令发给豆包大语言模型，很快分析出原因：换行符 `\` 的作用失效。脚本日志里 `Parsing arguments...` 后所有参数都是空值（`ARK_API_KEY:` 、`ARK_MODEL_ID:` ），说明 `setup.sh` 根本没接收到参数。

**问题解决**：放弃换行符，直接用**单行完整命令**执行，避免续行符失效问题

```Shell
curl -fsSL https://openclaw.tos-cn-beijing.volces.com/setup.sh | bash -s -- --ark-coding-plan "true" --ark-model-id "doubao-seed-code" --ark-api-key "请替换为方舟API Key" --feishu-app-id "请替换为飞书APP ID" --feishu-app-secret "请替换为飞书APP Secret"
```

# 情况二：应用未建立长连接

**问题描述**：在[4. 配置飞书助手](../4.%20配置飞书助手.md)中配置飞书的过程中，执行“使用 **长连接** 接收事件”遇到报错：“应用未建立长连接”

**原因分析**：远程连接云服务器，输入以下命令：

```Bash
systemctl --user status openclaw-gateway.service
```

返回得到信息：

|日志内容|含义解读|
|---|---|
|`Active: active (running)`|网关进程本身启动了（只是进程没挂），但不代表业务逻辑正常|
|`status: 400, statusText: 'Bad Request'`|网关向飞书开放平台发起请求时，被飞书服务器拒绝了（鉴权 / 参数错误）|
**结论**：**OpenClaw 网关服务虽然进程是 “运行中（active running）” 的状态，但核心的飞书长连接鉴权失败了**，并不是真正意义上的 “成功运行”——400 Bad Request 错误是关键问题，这直接导致飞书长连接无法建立。

**解决办法**：重新通过**crul**命令传递参数
# 情况三：安全授权机制

成功构建应用后，尝试与openclaw对话，返回报错：
```text
OpenClaw: access not configured. Your Feishu user id: ou_03ee39ed66dc8f8f3cde47c2e736497f Pairing code: 9WXP5YS3 Ask the bot owner to approve with: openclaw pairing approve feishu 9WXP5YS3
```

**原因解释**：OpenClaw 默认开启了 “用户白名单” 保护，只有经过管理员批准的飞书用户 ID（ou_03ee39ed66dc8f8f3cde47c2e736497f）才能和机器人交互，你看到的 `9WXP5YS3` 是专属的配对码，用于完成授权。

**问题解决**：在云服务器执行日志显示的授权信息：
```Bash
openclaw pairing approve feishu 9WXP5YS3
```

# 情况四：方舟模型

**问题描述**：又一轮对话后，返回报错：

```text
404 The doubao-seed-2-0-pro-260215 model does not support the coding plan feature. Please refer to the documentation at [https://www.volcengine.com/docs/82379/1925114](https://www.volcengine.com/docs/82379/1925114) to select a compatible model. Request id: 02177122628303060d9d1fce08649db5f71e61508d2f87f6d74e5
```

**原因分析**：指定的方舟大模型 `doubao-seed-2-0-pro-260215` 不支持「代码规划（coding plan）」功能，但在部署时开启了 `--ark-coding-plan "true"` 这个开关，导致调用模型接口时被火山引擎拒绝。

**解决方法**：修改参数为`false`

