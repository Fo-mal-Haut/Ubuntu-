有时候开机启动ubuntu,会出现没有WIFI连接可选的情况。这种情况常见于刚关机windows系统后再启动ubuntu系统，一般来说重启ubuntu系统即可连接wife。

但是反复的开启重启总不是很方便，因此需要找到问题的解决方法才行。在本笔记中记录几个连接wifi的方法，方便下次遇到这种情况可以离线调试。

# deepseek提供的方法（已解决）

这是一个相当常见的双系统网络问题，根本原因是 **Windows 的“快速启动”功能**和 **无线网卡固件/驱动状态冲突**。

### 核心原因详解

1.  **Windows 的“快速启动”（Fast Startup）**：
    *   这个功能（默认开启）让 Windows 关机时并非完全关闭，而是将系统状态（包括驱动程序、内核会话）保存到一个休眠文件（`hiberfil.sys`）中。
    *   下次开机时，Windows 从这个文件快速恢复，而不是从头冷启动。
    *   **关键点**：在此过程中，**硬件（如无线网卡）的固件状态和内部寄存器也被 Windows 驱动设置并保持在了某种特定状态**。这种状态是为 Windows 优化或锁定的。

2.  **硬件的状态残留**：
    *   当你从这种“快速启动”的 Windows 重启到 Ubuntu 时，电脑执行的是“暖启动”，硬件（网卡）并没有经历完全的断电重启。
    *   网卡仍处于由 Windows 驱动设置和管理的特殊状态。Ubuntu 启动后，加载自己的开源驱动（如 `iwlwifi` 用于 Intel 网卡，`ath9k`, `mt76` 等用于其他网卡），但发现硬件处于一个它无法识别的或“锁定”的状态，导致驱动初始化失败。
    *   **表现就是：Ubuntu 完全检测不到无线网卡，`lspci` 或 `lsusb` 可能能看到硬件，但网络管理器中没有任何无线选项。**

3.  **完全重启的作用**：
    *   当你“关机”后再开机（尤其是在 Ubuntu 下选择“关机”，或者长按电源键强制断电），电脑经历了完整的断电过程。
    *   网卡和其他硬件被彻底重置，恢复到上电初始状态。
    *   此时启动 Ubuntu，驱动可以正常识别并初始化网卡，一切恢复正常。

### 解决方案（按推荐顺序）

#### 方案一：在 Windows 中彻底禁用“快速启动”（最推荐，一劳永逸）

这是根本的解决方法，能避免很多双系统间的硬件状态冲突。

1.  启动进入 **Windows**。
2.  打开 **控制面板** -> **硬件和声音** -> **电源选项**。
3.  点击左侧的 **“选择电源按钮的功能”**。
4.  点击 **“更改当前不可用的设置”**。
5.  在下方 **“关机设置”** 中，**取消勾选** **“启用快速启动（推荐）”**。
6.  点击 **“保存修改”**。
7.  重启电脑测试。

**注意**：这会让 Windows 开机慢几秒，但能彻底解决此问题以及可能存在的其他硬件兼容性问题。

